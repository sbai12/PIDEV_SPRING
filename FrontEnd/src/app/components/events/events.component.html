<!-- Enrolled Trainings -->
<h3 class="text-center mt-5">Your Trainings</h3>
<div class="row">
  <div class="col-md-6" *ngFor="let training of enrolledTrainings">
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">{{ training.name }}</h5>
        <p class="fst-italic text-center">{{ training.date }}</p>
        <p>{{ training.description }}</p>
        <p><strong>Duration:</strong> {{ training.duration }} hours</p>
        <p><strong>Max Capacity:</strong> {{ training.maxCapacity }}</p>
        <p><strong>Average Rating:</strong> 
          <ng-container *ngIf="training.averageRating !== null; else noRating">
            <span>{{ training.averageRating }} / 5</span>
          </ng-container>
          <ng-template #noRating><span>No ratings yet</span></ng-template>
        </p>

        <!-- Rating Form -->
        <form (ngSubmit)="submitRating(training.id)">
          <div class="form-group">
            <label for="rating">Your Rating:</label>
            <input type="number" id="rating" [(ngModel)]="rating" name="rating" min="1" max="5" required />
          </div>
          <div class="form-group">
            <label for="comment">Your Comment:</label>
            <textarea id="comment" [(ngModel)]="comment" name="comment" rows="4" required></textarea>
          </div>
          <button type="submit" class="btn btn-success mt-2">Submit Review</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Other Trainings -->
<h3 class="text-center mt-5">Available Trainings</h3>
<div class="row">
  <div class="col-md-6" *ngFor="let training of otherTrainings">
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">{{ training.name }}</h5>
        <p class="fst-italic text-center">{{ training.date }}</p>
        <p>{{ training.description }}</p>
        <p><strong>Duration:</strong> {{ training.duration }} hours</p>
        <p><strong>Max Capacity:</strong> {{ training.maxCapacity }}</p>
        <p><strong>Average Rating:</strong> 
          <ng-container *ngIf="training.averageRating !== null; else noRating2">
            <span>{{ training.averageRating }} / 5</span>
          </ng-container>
          <ng-template #noRating2><span>No ratings yet</span></ng-template>
        </p>
        <button class="btn btn-primary" (click)="onRegister(training.id)">Register</button>
      </div>
    </div>
  </div>
</div>
